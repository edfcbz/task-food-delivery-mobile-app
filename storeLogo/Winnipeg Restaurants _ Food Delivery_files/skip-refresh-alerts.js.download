window.skipthedishes=window.skipthedishes||{},window.skipthedishes.Alerts=function(document,$){function _getAlertIconClass(alertType){var alertIconClass;return alertIconClass=alertType===_successAlertType?_successIconClass:alertType===_warningAlertType?_warningIconClass:alertType===_dangerAlertType?_dangerIconClass:_infoIconClass}function _adjustContentMarginForNavSize(callback){$(_pageContentSelector).css("height",$(_navbarSelector).height()),setTimeout(function(){callback&&callback()},_slide)}function _clearTopAlerts(){$(_topMessageContainerSelector).find(_alertContainerSelector).not("."+_orderTrackerMapAlertClass).alert("close"),_adjustContentMarginForNavSize()}function _attachTopAlertsEvents(callback){setTimeout(function(){callback&&callback()},_slide),$(_topMessageContainerSelector).find(_alertContainerSelector).on("closed.bs.alert",function(){_adjustContentMarginForNavSize()})}function _removeAlertByKey(key){var result=!1;return $(_topMessageContainerSelector).find(_alertContainerSelector).each(function(){var alertKey=$(this).data("alert-key");alertKey&&alertKey==key&&($(this).remove(),result=!0)}),result}var _topMessageContainerSelector,_alertContainerSelector,_orderTrackerMapAlertClass,_pageContentSelector,_pageContentHeightTransitionClass,_navbarSelector,_infoIconClass,_successIconClass,_warningIconClass,_dangerIconClass,_successAlertType="success",_warningAlertType="warning",_dangerAlertType="danger",_delay=3e3,_fade=2500,_slide=450;return{init:function(messageContainerSelector,alertContainerSelector,orderTrackerMapAlertClass,pageContentSelector,pageContentHeightTransitionClass,navbarSelector,infoIconClass,successIconClass,warningIconClass,dangerIconClass){$(document).ready(function(){_topMessageContainerSelector=messageContainerSelector,_alertContainerSelector=alertContainerSelector,_orderTrackerMapAlertClass=orderTrackerMapAlertClass,_pageContentSelector=pageContentSelector,_pageContentHeightTransitionClass=pageContentHeightTransitionClass,_navbarSelector=navbarSelector,_infoIconClass=infoIconClass,_successIconClass=successIconClass,_warningIconClass=warningIconClass,_dangerIconClass=dangerIconClass,_adjustContentMarginForNavSize(),_attachTopAlertsEvents(function(){$(_pageContentSelector).addClass(_pageContentHeightTransitionClass)}),$(window).resize(function(){_adjustContentMarginForNavSize()})})},showTopAlert:function(alertType,message,withCloseDelay,key,addToBottom,hideIcon,onlyShowOnOrderTrackerMap,hideCloseButton){var iconClass=_getAlertIconClass(alertType),closeButton="",dismissibleClass="";hideIcon&&(iconClass+=" invisible"),hideCloseButton||(closeButton="<button type='button' class='close' data-dismiss='alert' aria-label='Close'><i class='ion-icon ion-close ion-sm'></i></button>",dismissibleClass=" alert-dismissible"),onlyShowOnOrderTrackerMap?(alertType+=" "+_orderTrackerMapAlertClass,key&&$(_topMessageContainerSelector).find(_alertContainerSelector).each(function(){var alertKey=$(this).data("alert-key");alertKey&&alertKey==key&&_removeAlertByKey(key)})):_clearTopAlerts();var $alertContent=$("<div class='alert alert-"+alertType+dismissibleClass+"' role='alert'>"+closeButton+"<i class='ion-icon "+iconClass+"'></i><span class='alert-text'>"+message+"</span></div>");key&&$alertContent.data("alert-key",key),addToBottom?$(_topMessageContainerSelector).prepend($alertContent):$(_topMessageContainerSelector).append($alertContent),withCloseDelay===!0&&(onlyShowOnOrderTrackerMap?$alertContent.delay(_delay).fadeOut(_fade,function(){$alertContent.remove(),_adjustContentMarginForNavSize()}):$(_topMessageContainerSelector).children().not("."+_orderTrackerMapAlertClass).delay(_delay).fadeOut(_fade,function(){_clearTopAlerts()})),_adjustContentMarginForNavSize(),_attachTopAlertsEvents(),$(document).trigger("skip:alert:added")},clearTopAlerts:function(){_clearTopAlerts()},adjustContentMarginForNavSize:function(callback){_adjustContentMarginForNavSize(callback)},removeAlertByKey:function(key){return _removeAlertByKey(key)}}}(document,jQuery);